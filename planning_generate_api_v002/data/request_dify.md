```
curl -X POST 'http://172.28.140.214/v1/workflows/run' \
--header 'Authorization: Bearer app-UsYqYl0FxzbiexcetyViJS3L' \
--header 'Content-Type: application/json' \
--data-raw '{
    "inputs": {"query":"细胞注释","data_meatinfo":"1111.h5ad"},
    "response_mode": "blocking",
    "user": "abc-123"
}'

```

```
curl -X 'POST' \
  'http://localhost:8008/planning_generate' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "query": "帮我进行聚类分析",
  "data_meatinfo":{
  "records": [
  {
    "checkCode": "429167780",
    "commonTag": "un_is_send_cnsa",
    "barcodeLen": "",
    "subnet": "hpc",
    "refrenece": "",
    "memo": "",
    "tissue": "",
    "pid": "",
    "path": "/zfsms3/ST_STOMICS/STOmics_cloud/odms/test/dcs_cloud/P1871461072416366593/Files/ResultData/Workflow/W202506120003255/stdout",
    "sampleRandomNo": "",
    "zone": "st",
    "id": "899cd30a29024e75a8e79b9f05ac6ad5",
    "tag": "",
    "umiLocation": "",
    "batchNo": "WF2025061210187",
    "mapping": "stdout",
    "sampleId": "123",
    "wfName": "",
    "bussinessName": "时空workflow",
    "sampleNum": "",
    "sampleName": "",
    "sampleType": "",
    "sampleIntegrity": "",
    "resultNote": "",
    "sequenceType": "",
    "libraryNum": "",
    "slide": "",
    "barcode": "",
    "sequencePlatform": "",
    "basicQualityValue": "",
    "q30": "",
    "q20": "",
    "readNum": "",
    "baseNum": "",
    "estErr": "",
    "srcFilePath": "/zdsms1/ST_NOTEBOOK/P20Z10200N0039/workflow/test/cromwell-executions-volcano/Hello/12a1d31f-34b8-47e8-b115-699bd246e0d3/call-sayHello/execution/1111.fq.gz",
    "umiStartPos": "",
    "omicsType": "",
    "omics": "STOmics",
    "fileSize": "247",
    "name": "1111.fq.gz",
    "fastqType": "",
    "projectId": "P1871461072416366593",
    "status": "0",
    "metadataType": 0,
    "barcodeStart": "",
    "delFlag": "0",
    "sid": "1933091680321863682",
    "umiLen": "",
    "fileStatus": "0",
    "processId": "Hello_multiple",
    "fileExtension": "stdout",
    "bussinessCode": "202406170032",
    "chipId": "",
    "lane": "",
    "chipCategory": "",
    "creator": "hujiaming",
    "dyeType": "",
    "env": "",
    "parentId": "ce0c33632fa84a6fb1c265e8fe31a189",
    "createTime": "2025-06-12 17:23:58",
    "species": "",
    "readLen": "",
    "taskId": "W202506120003255",
    "downloadType": "0",
    "metadataId": "47f02fbafece421a92d8bc2bce27c85c",
    "metadataMenuId": "ce0c33632fa84a6fb1c265e8fe31a189",
    "projectName": "",
    "businessType": "",
    "projectType": "",
    "productType": "",
    "chipSpecs": "",
    "experimentProcess": "",
    "isMicroscopeFile": "",
    "qcResultFile": "",
    "imageToolType": "",
    "manufacture": "",
    "imageQcVersion": "",
    "stereoResepSwitch": "",
    "iprVersion": "",
    "processVersion": "1.0.0",
    "splitCount": "",
    "cbLength": "",
    "cbStart": "",
    "libraryType": "",
    "subProject": "",
    "snId": "",
    "menuId": "ce0c33632fa84a6fb1c265e8fe31a189",
    "menuStatus": "0",
    "menuSort": "1",
    "dataType": "0",
    "searchName": "stdout",
    "menuPath": "/Files/ResultData/Workflow/W202506120003255",
    "trackCrossQcPassFlag": "",
    "stitchedImage": "",
    "menuName": "W202506120003255",
    "linkType": "2"
  },
  {
    "checkCode": "3685340396",
    "commonTag": "un_is_send_cnsa",
    "barcodeLen": "",
    "subnet": "hpc",
    "refrenece": "",
    "memo": "",
    "tissue": "",
    "pid": "",
    "path": "/zfsms3/ST_STOMICS/STOmics_cloud/odms/test/dcs_cloud/P1871461072416366593/Files/ResultData/Workflow/W202506120003255/input.json",
    "sampleRandomNo": "",
    "zone": "st",
    "id": "11550f6b07ef4fcf83ee5cea4f091c02",
    "tag": "",
    "umiLocation": "",
    "batchNo": "WF2025061210187",
    "mapping": "input.json",
    "sampleId": "123",
    "wfName": "",
    "wfTag": "workflow",
    "bussinessName": "时空workflow",
    "sampleNum": "",
    "sampleName": "",
    "sampleType": "",
    "sampleIntegrity": "",
    "resultNote": "",
    "sequenceType": "",
    "libraryNum": "",
    "slide": "",
    "barcode": "",
    "sequencePlatform": "",
    "basicQualityValue": "",
    "q30": "",
    "q20": "",
    "readNum": "",
    "baseNum": "",
    "estErr": "",
    "srcFilePath": "/zdsms1/ST_NOTEBOOK/P20Z10200N0039/workflow/test/param/users/st_stomics/P20Z10200N0039/WF2025061210187/1933091680321863682/input.json",
    "umiStartPos": "",
    "omicsType": "",
    "omics": "STOmics",
    "fileSize": "136",
    "name": "input.json",
    "fastqType": "",
    "projectId": "P1871461072416366593",
    "status": "0",
    "metadataType": 0,
    "barcodeStart": "",
    "delFlag": "0",
    "sid": "1933091680321863682",
    "umiLen": "",
    "fileStatus": "0",
    "processId": "Hello_multiple",
    "fileExtension": "json",
    "bussinessCode": "202406170032",
    "chipId": "",
    "lane": "",
    "chipCategory": "",
    "creator": "hujiaming",
    "dyeType": "",
    "env": "",
    "parentId": "ce0c33632fa84a6fb1c265e8fe31a189",
    "createTime": "2025-06-12 17:23:58",
    "species": "",
    "readLen": "",
    "taskId": "W202506120003255",
    "downloadType": "0",
    "metadataId": "f9c270ac5a204094934cf7edaaeb9e2a",
    "metadataMenuId": "ce0c33632fa84a6fb1c265e8fe31a189",
    "projectName": "",
    "businessType": "",
    "projectType": "",
    "productType": "",
    "chipSpecs": "",
    "experimentProcess": "",
    "isMicroscopeFile": "",
    "qcResultFile": "",
    "imageToolType": "",
    "manufacture": "",
    "imageQcVersion": "",
    "stereoResepSwitch": "",
    "iprVersion": "",
    "processVersion": "1.0.0",
    "splitCount": "",
    "cbLength": "",
    "cbStart": "",
    "libraryType": "",
    "subProject": "",
    "snId": "",
    "menuId": "ce0c33632fa84a6fb1c265e8fe31a189",
    "menuStatus": "0",
    "menuSort": "1",
    "dataType": "0",
    "searchName": "input.json",
    "menuPath": "/Files/ResultData/Workflow/W202506120003255",
    "trackCrossQcPassFlag": "",
    "stitchedImage": "",
    "menuName": "W202506120003255",
    "linkType": "2"
  }
]
}
}'
```

* 自动填写参数
请求：
```
curl -X POST 'http://172.28.140.214/v1/chat-messages' \
--header 'Authorization: Bearer app-I9zUYHi9izQnqdDBZ5Z0cGx6' \
--header 'Content-Type: application/json' \
--data-raw '{
    "inputs": {"data_choose":"['/Files/RawData/V350099495_L04_read_1.fq.gz','/Files/RawData/V350099495_L04_read_2.fq.gz','/Files/RawData/Y00862D8.barcodeToPos.h5']"},
    "query": "{'SN': '', 'RegistJson': '', 'DataDir': '', 'ImageTar': '', 'ImagePreDir': '', 'Tissue': '', 'Reference': ''}",
    "response_mode": "blocking",
    "conversation_id": "",
    "user": "abc-123"
}'
```
输出：
```
{"event": "message", "task_id": "892a2597-7b88-45b4-99e7-463db6e177da", "id": "06881e2c-5fbf-4a4a-953c-6793b23f1a6f", "message_id": "06881e2c-5fbf-4a4a-953c-6793b23f1a6f", "conversation_id": "88549684-6002-4c11-b39d-7b4454f272c7", "mode": "advanced-chat", "answer": "{\n  \"SN\": \"V350099495_L04\",\n  \"RegistJson\": \"\",\n  \"DataDir\": \"/Files/RawData\",\n  \"ImageTar\": \"\",\n  \"ImagePreDir\": \"\",\n  \"Tissue\": \"\",\n  \"Reference\": \"/Files/RawData/Y00862D8.barcodeToPos.h5\"\n}", "metadata": {"usage": {"prompt_tokens": 177, "prompt_unit_price": "2", "prompt_price_unit": "0.000001", "prompt_price": "0.000354", "completion_tokens": 72, "completion_unit_price": "8", "completion_price_unit": "0.000001", "completion_price": "0.000576", "total_tokens": 249, "total_price": "0.00093", "currency": "RMB", "latency": 5.784288950264454}}, "created_at": 1750409398}
```
